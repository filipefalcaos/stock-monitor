<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>stock-monitor</title>

  <% if (htmlWebpackPlugin.options.nodeModules) { %>
  <!-- Add `node_modules/` to global paths so `require` works properly in development -->
  <script>
    require('module').globalPaths.push("<%= htmlWebpackPlugin.options.nodeModules.replace(/\\/g, '\\\\') %>")
  </script>
  <% } %>
</head>

<body>
  <div id="app"></div>

  <!-- Set `__static` path to static files in production -->
  <% if (!require('process').browser) { %>
  <script>
    if (process.env.NODE_ENV !== 'development') window.__static = require('path').join(__dirname, '/static').replace(/\\/g, '\\\\')
  </script>
  <% } %>

  <!-- webpack builds are automatically injected -->
  <!-- Creates a menu for DevTools -->
  <script>
    const { remote } = require('electron')
    const { Menu, MenuItem } = remote

    let rightClickPosition = null;
    const menu = new Menu();
    menu.append(new MenuItem({
      label: 'Inspect Element', click() {
        remote.getCurrentWindow().inspectElement(rightClickPosition.x, rightClickPosition.y);
      }
    }));

    window.addEventListener('contextmenu', (e) => {
      e.preventDefault();
      rightClickPosition = { x: e.x, y: e.y };
      menu.popup(remote.getCurrentWindow());
    }, false);
  </script>
</body>

</html>